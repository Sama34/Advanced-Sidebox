var ASB=(function(i,f){var g="",b={nothing_found:"nothing found",hooks:"hooks",actions:"actions",templates:"templates"};function j(){new Peeker(f(".replace_all"),f("#replace_content"),/1/,true);new Peeker(f(".replace_all"),f("#header_search"),/0/,true);new Peeker(f(".replace_all"),f("#footer_search"),/0/,true);new Peeker(f(".eval"),f("#template_row"),/0/,true);new Peeker(f(".eval"),f("#header_search"),/0/,true);new Peeker(f(".eval"),f("#footer_search"),/0/,true);new Peeker(f(".eval"),f("#replace_all"),/0/,true);new Peeker(f(".eval"),f("#replace_content"),/0/,true);if(f("#replace_all_yes").prop("checked")){f("#header_search").hide();f("#footer_search").hide()}else{f("#replace_content").hide()}if(f("#eval_yes").prop("checked")){f("#header_search").hide();f("#footer_search").hide();f("#template_row").hide();f("#replace_all").hide();f("#replace_content").hide()}h();f("#filename").blur(e)}function e(a){if(this.value==g||this.value==""){return}g=this.value;f("#hook_list").hide();f("#template_list").hide();f("#action_list").hide();f("div.ajax_spinners").show();f.ajax({type:"post",url:"index.php",data:{module:"config-asb",action:"xmlhttp",mode:"analyze_script",filename:this.value,selected:{hook:f("#hook").val(),template:f("#template_name").val(),action:f("#action").val()}},success:d,error:function(k,m,l){alert("error\n\n"+m+"\n\n"+l)}})}function d(a){f("div.ajax_spinners").hide();if(!a){return}f.each(["hook","template","action"],function(n,l){var o=l+"s",m='<span style="font-style: italic;">'+b.nothing_found.replace("{1}",b[o])+"</span>";if(a[o]){m=a[o]}f("#"+l+"_list").html(m).show()});h()}function h(){if(f("#hook_selector")){f("#hook_selector").change(function(a){var k=this.value;if(k==0){k=""}f("#hook").val(k)})}if(f("#template_selector")){f("#template_selector").change(function(a){var k=this.value;if(k==0){k=""}f("#template_name").val(k)})}if(f("#action_selector")){f("#action_selector").change(function(a){var k=this.value;if(k==0){k=""}f("#action").val(k)})}}function c(a,k){g=a||"";f.extend(b,k||{})}f(j);i.scripts={setup:c};return i})(ASB||{},jQuery);
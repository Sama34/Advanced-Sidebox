var ASB=(function(g,j){function d(a,k){if(typeof a!=="string"||a.length===0){return}this.options={rate:10,height:200,fadeRate:400,fullInfo:false};this.options=g.extend(this.options,k);this.$container=g("#"+a);if(this.$container.length<1||typeof this.options.images!=="object"||this.options.images.length<1){return false}this.running=false;this.isSetUp=false;this.imageIndex=0;this.$container.css({height:this.options.height+"px"});this.$image1=this.$container.children("div.asb-slideshow-image-one");this.$image2=this.$container.children("div.asb-slideshow-image-two").hide();this.start()}function b(){if(this.running){return}this.running=true;this.showNextImage()}function i(){if(!this.running||!this.timer){return}window.clearTimeout(this.timer);this.running=false}function f(){var a=this.getNextImageUrl();this.setImageUrl(this.$image1,a);this.setImageUrl(this.$image2,a);this.isSetUp=true;window.setTimeout(g.proxy(this.showNextImage,this),this.options.rate*1000)}function e(){if(this.isSetUp!==true){this.setup();return}var a=this.getNextImageUrl();this.$image2.show();this.setImageUrl(this.$image1,a);this.$image2.fadeOut(this.options.fadeRate,g.proxy(function(){this.setImageUrl(this.$image2,a);this.timer=window.setTimeout(g.proxy(this.showNextImage,this),this.options.rate*1000)},this))}function h(){var a;this.imageIndex++;if(this.imageIndex>=this.options.images.length){this.imageIndex=0}a=this.options.images[this.imageIndex];if(this.options.fullInfo===true){this.currentImage=this.options.images[this.imageIndex];a=this.currentImage.url}if(this.options.folder){a=this.options.folder+"/"+a}return a}function c(l,a){var k={"background-image":"url('"+encodeURI(a)+"')"};if(this.options.fullInfo===true){k.backgroundColor=this.currentImage.bgcolor}l.css(k)}d.prototype={start:b,stop:i,setup:f,showNextImage:e,getNextImageUrl:h,setImageUrl:c};j.modules=g.extend({Slideshow:d},j.modules||{});return j})(jQuery,ASB||{});